### 実行環境
macOS Big Sur 11.5
Python3.9.6

### 事前準備

pipでrequestsをインストールしてください。

コマンド例
```
pip3 install requests
```

もしpipがインストールされていない場合は、Python 3.4以降にアップデートしてください。

### 動作確認方法

プロジェクトをローカルにダウンロードしていただき、プロジェクトのルートで、`python3 main.py` を実行してください。
その後プロジェクト配下に配置した拡張子.flacの音声ファイルの相対パスを入力し、その後検索したいワードを`半角スペース区切り`で入力してください。
(動作確認用にaudio-sample.flacというファイルを配置しています)
出現位置が0indexedで範囲を表す形で表示されます。例えば、「音声」という文字を検索し、それが最初の二文字であった場合、(0, 2)と表示されます。
(もしPythonを触られたことがあるなら、Pythonのスライスでのカウントの仕方をイメージしていただけると幸いです)

- 動作確認例
```
$ python3 main.py
audio_fileの相対パスを入力してください
audio-sample.flac
検索したい単語を半角スペース区切りで入力してください
音声 現状 あああ
---------------「音声」の検索結果---------------
- 出現位置
(0, 2)
- 前後5文字も含めた文字列
音声認識の現状

- 出現位置
(31, 33)
- 前後5文字も含めた文字列
い最近では音声認識でもデ

---------------「現状」の検索結果---------------
- 出現位置
(5, 7)
- 前後5文字も含めた文字列
音声認識の現状について教

---------------「あああ」の検索結果---------------
```

上記の例の「あああ」のように、検索結果がヒットしない場合は何も表示されません。


### 実装において気をつけたところ

- 今後の拡張性を意識して、オブジェクト指向の原則に基づきオブジェクト同士が疎結合になるように設計・実装しています。

- 1クラスにつき1つの責務、1メソッドにつき1つの責務を意識して実装していますが、分離してまでメソッド名をつける必要のないような明白な処理に対してはInline Methodを適用して、メソッドの分離を行わないようにしています。
- その他気をつけた所は、説明のためにソースコード内にコメントとして書いています。

### テストに関して

- オブジェクト指向の考え方に基づき、他のオブジェクトから参照できるパブリックなメソッドのみをテストしています。
- テスト済みのモジュールを使う際はそのモジュールをモックして、呼び出されたかどうかのみを確認しています。

### 今後の拡張に関して

- 今回の用件が`GETして結果を表示する`というシンプルな機能の実装であったので、Webフレームワークを使用していませんが、プロダクトの計画次第では導入したほうが良いかもしれません。フルスタックなフレームワークが好ましいならばDjangoを、そうでないならばFlaskあたりが良いでしょう。

- 音声入力の言語によって叩くAPIのエンドポイントが変わるので、どの言語を使っているのかを選択できるようにしていきたいです。
    - できれば検索したいワードが何語かを判別するスクリプトを作り、それによって叩くAPIを変えるという設計をしたいです。

- その他ソースコード内にTODOコメントとして書いています。

### 参考書籍

- オブジェクト指向設計実践ガイド: (著者:Sandi Metz)
- リファクタリング(第2版): 既存のコードを安全に改善する(著者:Martin Fowler)

### 最後に

お忙しい中読んでいただきありがとうございました。何か気になる点やフィードバック、質問などあれば、`namsho256@gmail.com`までご連絡お願いします。
